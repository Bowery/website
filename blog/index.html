---
layout: default
title: Bowery - Blog
category: blog
---

<div class="home">
  <header>
    <div class="title-container">
      <h1>Building Bowery</h1>
      <p>Thoughts, updates, and announcements about Bowery.</p>
      <div class="line"></div>
    </div>
    <aside class="blog-nav">
      <div class="line"></div>
      <h3>Current Release</h3>
      <h1>3.5.0</h1>
    </aside>
  </header>
  <div class="search">
    <i class="search-icon"></i>
    <input type="text" placeholder="search the blog" id="search-input">
    <script type="text/javascript" src="/static/jquery.min.js"></script>
    <script type="text/javascript">
      function fuzzy_match(str,pattern){
        pattern = pattern.split("").reduce(function(a,b){ return a+".*"+b })
        return (new RegExp(pattern)).test(str)
      }
      var posts = []
      $.getJSON('/search.json', function (data) {
        posts = data
      })

      var initialPostList = $('.post-list').html()
      function searchBlog (e) {
        var term = e.target ? e.target.value : e
        if (!term.length) {
          $('.post-list').html(initialPostList)
          return
        }
        $('.post-list').html('')
        var results = []
        $.each(posts, function (i, p) {
          if (fuzzy_match(p.title.toLowerCase(), term.toLowerCase())) {
            $('.post-list').append([
            '<li>',
              '<h2>',
                '<a class="post-link" href="', p.url, '">', p.title, "</a>",
              '</h2>',
              '<span class="post-meta">', p.date, '</span>',
            '</li>'
            ].join(''))
            results.push(p)
          }
        })
        console.log('$$$$ results', results)
      }
      document.getElementById('search-input')
              .addEventListener('keyup', searchBlog.bind(this))
    </script>
  </div>
  <ul class="post-list">
    {% for post in site.posts %}
      {% if post.layout != "docs" %}
        <li>
          <h2>
            <a class="post-link" href="{{ post.url | prepend: site.blogbaseurl }}">{{ post.title }}</a>
          </h2>
          <p>{{ post.content | strip_html | truncatewords:35 }}</p>
          <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}{% if post.tags.size != 0 %} - {% for tag in post.tags %}<a href="{{site.blogbaseurl}}/tag/{{tag}}">{{tag}}</a> {% endfor %}{% endif %}</span>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</div>
